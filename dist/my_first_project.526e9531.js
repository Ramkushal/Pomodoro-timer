let t="pomodoroTasks",e="pomodoroCompletedTasks",n="pomodoroSettings";function s(t=""){return String(t).replace(/"/g,"'")}function o(t){return document.getElementById(t)}function a(t,e,n,s){"idle"===t?(e.classList.remove("hidden"),n.classList.add("hidden"),s.classList.add("hidden"),n.textContent="Pause"):"running"===t&&(e.classList.add("hidden"),n.classList.remove("hidden"),s.classList.remove("hidden"))}function l(t,e){e&&e.querySelectorAll("button").forEach(e=>{let n=e.id===t;e.classList.toggle("active",n),e.setAttribute("aria-pressed",String(n))})}function i(t){try{let e=localStorage.getItem(t);return e?JSON.parse(e):null}catch{return null}}function r(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(t){console.error("Storage write failed",t)}}function c(t,e,n){e.value=document.activeElement,n&&(n.classList.add("blurred"),n.setAttribute("aria-hidden","true")),t.classList.remove("hidden"),t.setAttribute("aria-hidden","false")}function d(t,e,n){t.classList.add("hidden"),t.setAttribute("aria-hidden","true"),n&&(n.classList.remove("blurred"),n.removeAttribute("aria-hidden"));let s=e.value;s&&"function"==typeof s.focus&&s.focus(),e.value=null}let u={long:new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"),short:new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg")};document.addEventListener("DOMContentLoaded",()=>{let m=function({audioSources:u={}}={}){let m=o("minutes"),f=o("seconds"),p=o("start"),g=o("pause"),h=o("reset"),v=o("task-list"),k=o("add-task"),b=o("new-task"),y=document.querySelector(".modes"),L=document.querySelector(".container"),E=o("settings-btn"),x=o("settings-overlay"),S=o("settings-form"),C=o("settings-cancel"),N=o("focus-duration"),T=o("short-break"),A=o("long-break"),I=o("laps-settings"),w=o("show-completed"),M=o("completed-overlay"),$=o("completed-close"),D=o("completed-list"),R=o("clear-completed"),O=o("laps"),q=o("laps-text"),P=u.long||null,U=u.short||null,J=i(t)||[];Array.isArray(J)||(J=[]);let _=i(e)||[];Array.isArray(_)||(_=[]);let B=i(n)||{focus:25,short:5,long:15,laps:4},H=B.laps,z=1,F={focus:60*B.focus,short:60*B.short,long:60*B.long},j="focus",G=function({initialSeconds:t=1500,onTick:e=()=>{},onComplete:n=()=>{}}={}){let s=t,o=null;function a(t){s=Math.max(0,Math.floor(t))}function l(){null===o&&(o=setInterval(()=>{e(s-=1),s<=0&&(clearInterval(o),o=null,n())},1e3),e(s))}function i(){o&&(clearInterval(o),o=null)}return{start:l,pause:i,resume:function(){null===o&&l()},reset:function(n=t){i(),a(n),e(s)},isRunning:function(){return null!==o},getTime:function(){return s},setSeconds:a}}({initialSeconds:F[j],onTick:function(t){V(t)},onComplete:function(){"focus"===j?z+1<=H?U&&U.play():P&&P.play():"short"===j?U&&U.play():P&&P.play(),function(){if("focus"===j){let t=z+1<=H?"short":"long";W(t),G.reset(F[t]),G.start()}else"short"===j&&z+1<=H?(z+=1,W("focus"),q.textContent=`${z}/${H} Lap`,G.reset(F.focus),G.start()):(z=1,H=B.laps,F={focus:60*B.focus,short:60*B.short,long:60*B.long},W("focus"),G.reset(F.focus),a("idle",p,g,h),O.classList.add("hidden"))}()}});function K(){v&&(v.innerHTML="",J.forEach(t=>{let e,n,o,a,l,i;return v.appendChild(((e=document.createElement("li")).dataset.id=t.id,(n=document.createElement("span")).className="task-text",n.textContent=t.text,(o=document.createElement("div")).className="task-buttons",(a=document.createElement("button")).className="task-btn complete-btn",a.title="Completed",a.type="button",a.textContent="âœ”ï¸",a.setAttribute("aria-label",`Mark ${s(t.text)} as complete`),(l=document.createElement("button")).className="task-btn edit-btn",l.title="Edit task",l.type="button",l.textContent="âœï¸",l.setAttribute("aria-label",`Edit ${s(t.text)}`),(i=document.createElement("button")).className="task-btn delete-btn",i.title="Delete task",i.type="button",i.textContent="ðŸ—‘ï¸",i.setAttribute("aria-label",`Delete ${s(t.text)}`),o.append(a,l,i),e.append(n,o),e))}))}function Q(){if(D){if(D.innerHTML="",0===_.length){let t=document.createElement("li");t.className="completed-empty",t.textContent="No completed tasks yet.",t.setAttribute("role","note"),D.appendChild(t);return}_.forEach(t=>{let e=document.createElement("li");e.textContent=t.text,e.setAttribute("aria-label",`Completed task: ${t.text}`),D.appendChild(e)})}}function V(t=G.getTime()){m.textContent=String(Math.floor(t/60)).padStart(2,"0"),f.textContent=String(t%60).padStart(2,"0")}function W(t){let e;j=t,l(t,y),G.setSeconds(F[t]),document.body.classList.remove("focus-theme","short-theme","long-theme"),e=`${j}-theme`,document.body.classList.add(e),V(G.getTime())}function X(){G.isRunning()||(a("running",p,g,h),O.classList.remove("hidden"),q.textContent=`${z}/${H} Lap`,G.start())}function Y(){(G.isRunning()||G.getTime)&&(G.isRunning()?(G.pause(),g.textContent="Resume"):(G.resume(),g.textContent="Pause"))}function Z(){g.textContent="Pause",G.reset(F.focus),z=1,W("focus"),a("idle",p,g,h),O.classList.add("hidden")}function tt(){let e=b.value.trim();if(!e)return;if(e.length>100){b.value="",alert("Only 100 characters are allowed");return}let n={id:"undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2,10)}`,text:e};J=function(e,n,s=!0){let o=[n,...e];return s&&r(t,o),o}(J,n),K(),b.value=""}let te={value:null};function tn(){N.value=Math.round(B.focus),T.value=Math.round(B.short),A.value=Math.round(B.long),I.value=Math.round(B.laps),c(x,te,L),N.focus()}function ts(){d(x,te,L),S.reset()}function to(t){t.preventDefault();let e=parseInt(N.value,10),s=parseInt(T.value,10),o=parseInt(A.value,10),a=parseInt(I.value,10);Number.isNaN(e)||Number.isNaN(s)||Number.isNaN(o)||Number.isNaN(a)||e<=0||s<=0||o<=0||a<=0||e>120||s>20||o>60||a>10?alert("Please enter valid numeric values for all timers."):(B.focus=e,B.short=s,B.long=o,B.laps=a,r(n,B),H=B.laps,F={focus:60*B.focus,short:60*B.short,long:60*B.long},Z(),ts())}function ta(){Q(),c(M,te,L),$.focus()}function tl(){d(M,te,L)}function ti(){_=[],Q(),localStorage.setItem(e,JSON.stringify([]))}return{init:function(){a("idle",p,g,h),l("focus",y),K(),Q(),V(F.focus),p.addEventListener("click",X),g.addEventListener("click",Y),h.addEventListener("click",Z),k.addEventListener("click",tt),b.addEventListener("keydown",t=>{"Enter"===t.key&&tt()}),v.addEventListener("click",n=>{let s=n.target.closest("li");if(s){if(n.target.classList.contains("delete-btn")){let e;(e=s.dataset.id)?(J=function(e,n,s=!0){let o=e.filter(t=>t.id!==n);return s&&r(t,o),o}(J,e),K()):s.remove()}else if(n.target.classList.contains("edit-btn"))!function(e){let n=e.querySelector(".task-text"),s=e.dataset.id;if(!n||!s)return;let o=n.textContent,a=document.createElement("input");a.type="text",a.value=o,a.className="task-edit-input",a.style.cssText=`
      flex: 1;
      padding: 4px 8px;
      border: 2px solid var(--accent-color);
      border-radius: 4px;
      background: #2b2b2b;
      color: #fff;
      font-size: inherit;
      font-family: inherit;
    `;let l=!1;function i(){if(l)return;l=!0;let e=a.value.trim();e&&(J=function(e,n,s,o=!0){let a=e.map(t=>t.id===n?{...t,text:s}:t);return o&&r(t,a),a}(J,s,e),n.textContent=e),n.style.display="",a.remove()}a.addEventListener("keydown",t=>{"Enter"===t.key?i():"Escape"===t.key&&(l||(l=!0,n.style.display="",a.remove()))},{once:!1}),a.addEventListener("blur",i,{once:!0}),n.style.display="none",e.insertBefore(a,n),a.focus(),a.select()}(s);else if(n.target.classList.contains("complete-btn")){let n=function(n,s,o,a=!0){let l=n.findIndex(t=>t.id===o);if(-1===l)return{tasks:n,completedTasks:s};let[i]=n.slice(l,l+1),c=n.slice(0,l).concat(n.slice(l+1)),d=[{...i,completedAt:Date.now()},...s];return a&&(r(t,c),r(e,d)),{tasks:c,completedTasks:d}}(J,_,s.dataset.id);J=n.tasks,_=n.completedTasks,K(),Q()}}}),y.addEventListener("click",t=>{let e=t.target.closest("button");if(!e)return;let n=e.id;!["focus","short","long"].includes(n)||(j!==n||G.isRunning())&&(G.pause(),G.reset(F[n]),W(n),a("idle",p,g,h))}),E.addEventListener("click",tn),C.addEventListener("click",ts),S.addEventListener("submit",to),x.addEventListener("click",t=>{t.target===x&&ts()}),w.addEventListener("click",ta),$.addEventListener("click",tl),R.addEventListener("click",ti),M.addEventListener("click",t=>{t.target===M&&tl()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&(x.classList.contains("hidden")?M.classList.contains("hidden")||tl():ts())})},startTimer:X,pauseTimer:Y,resetTimer:Z,addTaskFromInput:tt,getState:()=>({tasks:J,completedTasks:_,settings:B,curMode:j,curLap:z})}}({audioSources:u});m.init(),window._pomodoro=m});
//# sourceMappingURL=my_first_project.526e9531.js.map
